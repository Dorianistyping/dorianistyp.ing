<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Boot</title>

<style>
  :root{
    --red:#ff2b2b;
    --bg:#000;
    --mono:"SFMono-Regular",ui-monospace,monospace;
  }
  html,body{
    height:100%;
    margin:0;
    background:var(--bg);
    color:var(--red);
    font-family:var(--mono);
    overflow:hidden;
  }

  .console{
    position:absolute;
    inset:0;
    padding:22px;
    font-size:13px;
    line-height:1.06;
    white-space:pre;
    overflow:auto;
    pointer-events:none;
  }

  .prompt-wrapper {
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    opacity:0;
    pointer-events:none;
  }

  .prompt {
    width:min(650px,92%);
    border:1px solid var(--red);
    background:#000;
    padding:18px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
  }
  input[type="password"]{
    background:transparent;
    border:0;
    outline:0;
    color:var(--red);
    font-family:var(--mono);
    font-size:16px;
    padding:6px;
  }
  .btn{
    border:1px solid var(--red);
    background:transparent;
    color:var(--red);
    padding:8px 12px;
    cursor:pointer;
  }
</style>
</head>
<body>

<div class="console" id="console"></div>

<div class="prompt-wrapper" id="promptWrap">
  <div class="prompt">
    <label>ENTER PASSCODE:</label>
    <input id="pw" type="password" placeholder="********">
    <button class="btn" id="go">ENTER</button>
  </div>
</div>

<script>
const consoleEl = document.getElementById("console");
const promptWrap = document.getElementById("promptWrap");
const pw = document.getElementById("pw");
const go = document.getElementById("go");

const TYPE_DELAY = 2;
const PROMPT_DELAY = 7000;

// --- ASCII LOGO ---
const logo = [
"    ____             _ ____  _____",
"   / __ \\____  _____(_) __ \\/ ___/",
"  / / / / __ \\/ ___/ / / / /\\__ \\ ",
" / /_/ / /_/ / /  / / /_/ /___/ / ",
"/_____\\/\\____/_/  /_/\\____//____/  ",
"                                   "
];

// --- BIOS LINES ---
const biosLines = [
  "DORiOS Firmware 4.0",
  "-------------------------------------------",
  "Initializing hardware .................. OK",
  "Checking storage devices ............... OK",
  "Loading system drivers ................. OK",
  "Verifying security modules ............. OK",
  "Loading kernel ......................... OK",
  "Starting core services:",
  "  >> Network Service ................... RUNNING",
  "  >> Process Manager ................... RUNNING",
  "  >> Security Engine ................... RUNNING",
  "",
  "Mounting root filesystem ............... OK",
  "System checks .......................... PASSED",
  "",
  "!!! THIS IS NOT DONE YET LOLL !!!",
  "",
  "Boot sequence complete.",
  "-------------------------------------------",
  ""
];

// --- FINAL BOOT SEQUENCE (NO system info) ---
const bootSequence = [...logo, ...biosLines];

let queue = [...bootSequence];
let typingBoot = true;

// TYPE LINE
function typeLine(line, cb){
  let i = 0;
  function step(){
    if(i < line.length){
      consoleEl.textContent += line[i++];
      setTimeout(step, TYPE_DELAY);
    } else {
      consoleEl.textContent += "\n";
      consoleEl.scrollTop = consoleEl.scrollHeight;
      if(cb) cb();
    }
  }
  step();
}

// LINE LOOP
function typeLoop(){
  if(queue.length){
    typeLine(queue.shift(), typeLoop);
  } else {
    typingBoot = false;
  }
}

typeLoop();

// AFTER BOOT â€” ONLY AWAITING PASSWORD
setInterval(()=>{
  if(!typingBoot){
    consoleEl.textContent += ">>> AWAITING PASSWORD ...\n";
    consoleEl.scrollTop = consoleEl.scrollHeight;
  }
}, 1800);

// PASSWORD PROMPT
setTimeout(()=>{
  promptWrap.style.opacity = 1;
  promptWrap.style.pointerEvents = "auto";
  pw.focus();
}, PROMPT_DELAY);

function submit(){
  const pass = pw.value.trim();
  window.location.href = "/home.html";
}


go.addEventListener("click", submit);
pw.addEventListener("keydown", e=>{ if(e.key==="Enter") submit(); });
</script>

</body>
</html>
